const a3_0x40f4d5=a3_0xf914;(function(_0x4701c3,_0x1ac42d){const _0x13140c=a3_0xf914,_0x513ef3=_0x4701c3();while(!![]){try{const _0x5e5981=-parseInt(_0x13140c(0x77))/0x1+-parseInt(_0x13140c(0x90))/0x2+-parseInt(_0x13140c(0x87))/0x3*(parseInt(_0x13140c(0x6d))/0x4)+-parseInt(_0x13140c(0xad))/0x5*(parseInt(_0x13140c(0x86))/0x6)+-parseInt(_0x13140c(0x8a))/0x7*(-parseInt(_0x13140c(0x8f))/0x8)+parseInt(_0x13140c(0xb9))/0x9*(parseInt(_0x13140c(0xac))/0xa)+parseInt(_0x13140c(0x6a))/0xb;if(_0x5e5981===_0x1ac42d)break;else _0x513ef3['push'](_0x513ef3['shift']());}catch(_0x43b6d1){_0x513ef3['push'](_0x513ef3['shift']());}}}(a3_0x2f5a,0x89c90));import a3_0x175421 from'input';function a3_0xf914(_0x2f1222,_0x59a4aa){const _0x2f5ad3=a3_0x2f5a();return a3_0xf914=function(_0xf914ba,_0x5ea6d6){_0xf914ba=_0xf914ba-0x69;let _0x91d038=_0x2f5ad3[_0xf914ba];return _0x91d038;},a3_0xf914(_0x2f1222,_0x59a4aa);}import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';function a3_0x2f5a(){const _0x57d0c0=['You\x20dont\x20have\x20any\x20Query\x20Account.','\x20|\x20FloodWait\x20','init','getSession','filter','invoke','Your\x20Account\x20List\x20:\x0a\x20\x0a','query-','error','sessionCreation','Please\x20Enter\x20Telegram\x20Query\x20:\x20','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','accounts/','Enter\x20your\x20Telegram\x20Password?','length','useSession','indexOf','https://major.glados.app/','save','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','queryCreation','\x20|\x20Sleep\x20','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','230hTcMdX','20WTsXzg','bot','TELEGRAM_APP_ID','stringify','saveQueryFile','start','\x20-\x20Created','initWebView','log','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','destroy','Session\x20','325773MuVyOc','queryModificaiton','resolvePeer','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','13027894XFEJkK','<empty>','includes','4xbfnyn','storeSession','session','delay','accounts','accountType','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','sessions-','/query.txt','url','23092BZekOv','resetAccounts','Old\x20Query\x20:\x20','text','TELEGRAM_APP_HASH','@major','proxy','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','Invalid\x20Input','warn','createDir','accountName','query','client','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','1614846MUBtic','1093767oKzakA','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','peer','21SrNfkk','info','onBoarding','exit','Invalid\x20input,\x20Please\x20try\x20again','1166888zWQeNb','851710LsvAVQ','serverAddress','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','\x20-\x20Webview\x20Connected'];a3_0x2f5a=function(){return _0x57d0c0;};return a3_0x2f5a();}import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x2c5f79 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{['storeSession'];constructor(){const _0x56f9d4=a3_0xf914;this[_0x56f9d4(0x82)]='accounts',this[_0x56f9d4(0x76)]=_0x56f9d4(0xa5),this[_0x56f9d4(0xae)]=_0x56f9d4(0x7c);}async[a3_0x40f4d5(0x96)](){const _0x1f5710=a3_0x40f4d5;try{await this['onBoarding']();}catch(_0x1fea56){console[_0x1f5710(0xb5)](_0x1fea56),a3_0x2c5f79[_0x1f5710(0x9c)](''+JSON[_0x1f5710(0xb0)](_0x1fea56));throw _0x1fea56;}}async[a3_0x40f4d5(0x8c)](){const _0x1ac453=a3_0x40f4d5;try{let _0x1994d8='Welcome\x20to\x20Major\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x20\x0aYour\x20Session\x20List:\x0a';const _0x481151=Helper[_0x1ac453(0x97)](_0x1ac453(0x71));if(_0x481151[_0x1ac453(0xa2)]==0x0)_0x1994d8+=_0x1ac453(0x6b);else for(const _0x5afce6 of _0x481151){_0x1994d8+='-\x20'+_0x5afce6+'\x0a';}_0x1994d8+='\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a',_0x1994d8+=_0x1ac453(0xb6);const _0xc62bce=await a3_0x175421[_0x1ac453(0x7a)](_0x1994d8);if(_0xc62bce==0x1)await this['accountType']();else{if(_0xc62bce==0x2)Helper[_0x1ac453(0x78)](),await Helper[_0x1ac453(0x70)](0xbb8),await this['onBoarding']();else{if(_0xc62bce==0x3)Helper[_0x1ac453(0x97)](this[_0x1ac453(0x82)])?.[_0x1ac453(0xa2)]==0x0&&(console[_0x1ac453(0x8b)](_0x1ac453(0xab)),await this[_0x1ac453(0x8c)]());else _0xc62bce==0x4?await this[_0x1ac453(0xba)]():(console['error']('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x1ac453(0x8c)]());}}}catch(_0x1b9cf4){throw _0x1b9cf4;}}async[a3_0x40f4d5(0xba)](){const _0x2929f5=a3_0x40f4d5;try{const _0x2b6bb6=Helper['getSession'](_0x2929f5(0x71)),_0x414481=_0x2b6bb6[_0x2929f5(0x98)](_0xf21f81=>_0xf21f81[_0x2929f5(0x6c)](_0x2929f5(0x83)));let _0xb20b37='Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x7a9b42 of _0x414481){_0xb20b37+=_0x2b6bb6[_0x2929f5(0xa4)](_0x7a9b42)+0x1+'.\x20'+_0x7a9b42+'\x0a';}_0x414481[_0x2929f5(0xa2)]==0x0?(console['log'](_0x2929f5(0x94)),await this[_0x2929f5(0x8c)]()):_0xb20b37+=_0x2929f5(0xa7);const _0x41fca5=await a3_0x175421[_0x2929f5(0x7a)](_0xb20b37);if(_0x414481[_0x41fca5-0x1]!=undefined){const _0x38f52b=_0x414481[_0x41fca5-0x1];this[_0x2929f5(0x82)]=_0x2929f5(0xa0)+_0x38f52b;const _0x18eae8=_0x2929f5(0x79)+Helper['readQueryFile'](this[_0x2929f5(0x82)]+_0x2929f5(0x75))+_0x2929f5(0x92),_0x5da674=await a3_0x175421['text'](_0x18eae8);await Helper['saveQueryFile'](this[_0x2929f5(0x82)],_0x5da674),await Helper[_0x2929f5(0x70)](0xbb8),await this['onBoarding']();}else console['error'](_0x2929f5(0x8e)),await this[_0x2929f5(0xba)]();}catch(_0x5f1e20){throw _0x5f1e20;}}async[a3_0x40f4d5(0x9d)](){const _0x3a5ae5=a3_0x40f4d5;try{if(Config[_0x3a5ae5(0xaf)]==undefined||Config[_0x3a5ae5(0x7b)]==undefined)throw new Error(_0x3a5ae5(0x9f));const _0x470a9e=Helper[_0x3a5ae5(0x97)](_0x3a5ae5(0x71));let _0x4fb379=_0x3a5ae5(0x9a);for(const _0x7255d5 of _0x470a9e){_0x4fb379+=_0x470a9e[_0x3a5ae5(0xa4)](_0x7255d5)+0x1+'.\x20'+_0x7255d5+'\x0a';}_0x470a9e[_0x3a5ae5(0xa2)]==0x0?_0x4fb379+=_0x3a5ae5(0x85):_0x4fb379+=_0x3a5ae5(0x7e);const _0x4fad28=await a3_0x175421[_0x3a5ae5(0x7a)](_0x4fb379);this[_0x3a5ae5(0x82)]=Helper[_0x3a5ae5(0x81)](_0x3a5ae5(0x74)+_0x4fad28),await this[_0x3a5ae5(0xa3)](this[_0x3a5ae5(0x82)]),await this['disconnect'](),a3_0x2c5f79[_0x3a5ae5(0x8b)](_0x3a5ae5(0xb8)+this[_0x3a5ae5(0x82)]+'\x20-\x20Created'),console[_0x3a5ae5(0xb5)]('Session\x20'+_0x4fad28+_0x3a5ae5(0xa8)),this['storeSession']['save'](),await Helper[_0x3a5ae5(0x70)](0xbb8),process[_0x3a5ae5(0x8d)]();}catch(_0x5c21af){throw _0x5c21af;}}async[a3_0x40f4d5(0xa9)](){const _0x231330=a3_0x40f4d5;try{const _0x47d748=Helper[_0x231330(0x97)]('accounts');let _0x4a7a3b=_0x231330(0x9a);for(const _0x20dcc8 of _0x47d748){_0x4a7a3b+=_0x47d748[_0x231330(0xa4)](_0x20dcc8)+0x1+'.\x20'+_0x20dcc8+'\x0a';}_0x47d748[_0x231330(0xa2)]==0x0?_0x4a7a3b+=_0x231330(0x73):_0x4a7a3b+='\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:';const _0x316479=await a3_0x175421[_0x231330(0x7a)](_0x4a7a3b);this[_0x231330(0x82)]=Helper[_0x231330(0x81)](_0x231330(0x9b)+_0x316479);let _0x1f483a=_0x231330(0x9e);const _0x92d351=await a3_0x175421[_0x231330(0x7a)](_0x1f483a);await Helper[_0x231330(0xb1)](this[_0x231330(0x82)],_0x92d351),a3_0x2c5f79[_0x231330(0x8b)]('Query\x20'+this[_0x231330(0x82)]+_0x231330(0xb3)),console['log']('Query\x20'+_0x316479+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),await Helper['delay'](0xbb8),process[_0x231330(0x8d)]();}catch(_0x18587f){throw _0x18587f;}}async[a3_0x40f4d5(0x72)](){const _0x1aa00f=a3_0x40f4d5;try{const _0x37c748=Helper[_0x1aa00f(0x97)]('accounts');let _0x245668=_0x1aa00f(0x9a);if(_0x37c748[_0x1aa00f(0xa2)]>0x0)for(const _0x352837 of _0x37c748){_0x245668+=_0x37c748[_0x1aa00f(0xa4)](_0x352837)+0x1+'.\x20'+_0x352837+'\x0a';}else _0x245668+='<empty>\x0a';_0x245668+=_0x1aa00f(0x69);const _0x2e0f2f=await a3_0x175421['text'](_0x245668);if(_0x2e0f2f==0x1)await this['sessionCreation']();else _0x2e0f2f==0x2?await this['queryCreation']():(console[_0x1aa00f(0xb5)](_0x1aa00f(0x7f)),await this[_0x1aa00f(0x72)]());}catch(_0x65b0d1){throw _0x65b0d1;}}async['useSession'](_0x5bba8b,_0x4dfa12){const _0x3bc566=a3_0x40f4d5;try{this[_0x3bc566(0x7d)]=_0x4dfa12;const _0x1d9141={'connectionRetries':0x5};this[_0x3bc566(0x7d)]&&(_0x1d9141['agent']=new HttpsProxyAgent(this[_0x3bc566(0x7d)])),this['storeSession']=new StoreSession(_0x5bba8b),this[_0x3bc566(0x84)]=new TelegramClient(this[_0x3bc566(0x6e)],Config[_0x3bc566(0xaf)],Config['TELEGRAM_APP_HASH'],_0x1d9141),this[_0x3bc566(0x6e)][_0x3bc566(0xa6)](),await this['client'][_0x3bc566(0xb2)]({'phoneNumber':async()=>await a3_0x175421[_0x3bc566(0x7a)]('Enter\x20your\x20Telegram\x20Phone\x20Number\x20?'),'password':async()=>await a3_0x175421['text'](_0x3bc566(0xa1)),'phoneCode':async()=>await a3_0x175421[_0x3bc566(0x7a)](_0x3bc566(0x88)),'onError':_0x40ce19=>{const _0x41f480=_0x3bc566;console[_0x41f480(0xb5)](_0x40ce19['message']);}}),console[_0x3bc566(0xb5)]();}catch(_0xf010bb){throw _0xf010bb;}}async[a3_0x40f4d5(0xbb)](){const _0x59c3a1=a3_0x40f4d5;try{a3_0x2c5f79['info']('Session\x20'+this[_0x59c3a1(0x6f)]+'\x20-\x20Resolving\x20Peer');while(this[_0x59c3a1(0x89)]==undefined){try{this['peer']=await this[_0x59c3a1(0x84)]['getEntity'](this['bot']);break;}catch(_0x1d1e7f){if(_0x1d1e7f instanceof FloodWaitError){const _0x4dda92=_0x1d1e7f['seconds'];a3_0x2c5f79[_0x59c3a1(0x80)](this[_0x59c3a1(0x84)]['session'][_0x59c3a1(0x91)]+_0x59c3a1(0x95)+_0x1d1e7f),a3_0x2c5f79[_0x59c3a1(0x8b)](this[_0x59c3a1(0x84)]['session'][_0x59c3a1(0x91)]+_0x59c3a1(0xaa)+_0x4dda92+'s'),await Helper['delay']((_0x4dda92+0x3)*0x3e8);}else throw _0x1d1e7f;}}}catch(_0x14c67c){throw _0x14c67c;}}async['disconnect'](){const _0x50106a=a3_0x40f4d5;await this[_0x50106a(0x84)]['disconnect'](),await this['client'][_0x50106a(0xb7)](),this['peer']=undefined,this[_0x50106a(0x82)]=undefined;}async[a3_0x40f4d5(0xb4)](){const _0x590dbd=a3_0x40f4d5;try{const _0x265c58=await this['client'][_0x590dbd(0x99)](new Api['messages']['RequestWebView']({'peer':this[_0x590dbd(0x89)],'bot':this[_0x590dbd(0x89)],'fromBotMenu':!![],'url':this['url'],'platform':'android'}));a3_0x2c5f79[_0x590dbd(0x8b)](_0x590dbd(0xb8)+this[_0x590dbd(0x6f)]+_0x590dbd(0x93));const _0x492e71=_0x265c58[_0x590dbd(0x76)];return Helper['getTelegramQuery'](_0x492e71,0x3);}catch(_0x565044){throw _0x565044;}}}