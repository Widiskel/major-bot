const a3_0x38bb64=a3_0x5e61;(function(_0x182345,_0x402d0c){const _0x4d9e29=a3_0x5e61,_0x28385d=_0x182345();while(!![]){try{const _0x53201b=-parseInt(_0x4d9e29(0x119))/0x1*(-parseInt(_0x4d9e29(0xec))/0x2)+parseInt(_0x4d9e29(0xd5))/0x3+parseInt(_0x4d9e29(0xde))/0x4+-parseInt(_0x4d9e29(0xd3))/0x5*(-parseInt(_0x4d9e29(0x11d))/0x6)+parseInt(_0x4d9e29(0xc9))/0x7*(parseInt(_0x4d9e29(0xf7))/0x8)+-parseInt(_0x4d9e29(0xe3))/0x9+parseInt(_0x4d9e29(0xd2))/0xa*(-parseInt(_0x4d9e29(0xfc))/0xb);if(_0x53201b===_0x402d0c)break;else _0x28385d['push'](_0x28385d['shift']());}catch(_0x5444c1){_0x28385d['push'](_0x28385d['shift']());}}}(a3_0x3648,0x21190));import a3_0xf58b2b from'input';function a3_0x5e61(_0x58bd00,_0x3aedaa){const _0x36482f=a3_0x3648();return a3_0x5e61=function(_0x5e61a3,_0x44bc58){_0x5e61a3=_0x5e61a3-0xc8;let _0x536be9=_0x36482f[_0x5e61a3];return _0x536be9;},a3_0x5e61(_0x58bd00,_0x3aedaa);}import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';function a3_0x3648(){const _0x2fa3f8=['sessionCreation','text','useSession','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','accountName','session','10aHJhDU','242040MylQIN','Enter\x20your\x20Telegram\x20Password?','307950LNYjac','createDir','getEntity','RequestWebView','\x20-\x20Resolving\x20Peer','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','Query\x20','filter','accounts','200424LBbbnC','\x20|\x20Sleep\x20','onBoarding','/query.txt','peer','320454QFfUfj','\x20|\x20FloodWait\x20','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','https://major.glados.app/','proxy','seconds','accountType','243826wLyVmC','<empty>','Invalid\x20input,\x20Please\x20try\x20again','url','queryModificaiton','android','error','\x20-\x20Webview\x20Connected','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','You\x20dont\x20have\x20any\x20Query\x20Account.','client','7256HDErzr','Session\x20','stringify','delay','serverAddress','4075390cIesbD','init','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','save','storeSession','query-','info','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','readQueryFile','getTelegramQuery','Invalid\x20Input','saveQueryFile','bot','Old\x20Query\x20:\x20','queryCreation','accounts/','TELEGRAM_APP_HASH','messages','includes','Welcome\x20to\x20Fintopio\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','message','sessions-','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','invoke','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','query','length','agent','log','1HCpOZD','Your\x20Account\x20List\x20:\x0a\x20\x0a','disconnect','TELEGRAM_APP_ID','6wKIhSY','Please\x20Enter\x20Telegram\x20Query\x20:\x20','getSession','exit','indexOf','1687kdYRpo','<empty>\x0a','resolvePeer'];a3_0x3648=function(){return _0x2fa3f8;};return a3_0x3648();}import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x437415 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{['storeSession'];constructor(){const _0x2462c3=a3_0x5e61;this[_0x2462c3(0xd0)]='accounts',this['url']=_0x2462c3(0xe8),this[_0x2462c3(0x108)]='@major';}async[a3_0x38bb64(0xfd)](){const _0x260995=a3_0x38bb64;try{await this[_0x260995(0xe0)]();}catch(_0x3b7042){console[_0x260995(0x118)](_0x3b7042),a3_0x437415[_0x260995(0xf2)](''+JSON[_0x260995(0xf9)](_0x3b7042));throw _0x3b7042;}}async['onBoarding'](){const _0x38e848=a3_0x38bb64;try{let _0x6b03a3=_0x38e848(0x10f);const _0x2bf315=Helper[_0x38e848(0x11f)]('accounts');if(_0x2bf315['length']==0x0)_0x6b03a3+=_0x38e848(0xed);else for(const _0x3b3208 of _0x2bf315){_0x6b03a3+='-\x20'+_0x3b3208+'\x0a';}_0x6b03a3+=_0x38e848(0xfe),_0x6b03a3+=_0x38e848(0x114);const _0x5c954f=await a3_0xf58b2b[_0x38e848(0xcd)](_0x6b03a3);if(_0x5c954f==0x1)await this[_0x38e848(0xeb)]();else{if(_0x5c954f==0x2)Helper['resetAccounts'](),await Helper[_0x38e848(0xfa)](0xbb8),await this['onBoarding']();else{if(_0x5c954f==0x3)Helper['getSession'](this[_0x38e848(0xd0)])?.[_0x38e848(0x116)]==0x0&&(console[_0x38e848(0x102)](_0x38e848(0x112)),await this[_0x38e848(0xe0)]());else _0x5c954f==0x4?await this['queryModificaiton']():(console[_0x38e848(0xf2)]('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x38e848(0xe0)]());}}}catch(_0x31749c){throw _0x31749c;}}async[a3_0x38bb64(0xf0)](){const _0xe0f419=a3_0x38bb64;try{const _0x7b4b12=Helper['getSession'](_0xe0f419(0xdd)),_0x49b856=_0x7b4b12[_0xe0f419(0xdc)](_0x5bd09b=>_0x5bd09b[_0xe0f419(0x10e)](_0xe0f419(0x115)));let _0x299a91=_0xe0f419(0xcf);for(const _0x27a819 of _0x49b856){_0x299a91+=_0x7b4b12[_0xe0f419(0xc8)](_0x27a819)+0x1+'.\x20'+_0x27a819+'\x0a';}_0x49b856[_0xe0f419(0x116)]==0x0?(console['log'](_0xe0f419(0xf5)),await this[_0xe0f419(0xe0)]()):_0x299a91+='\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:';const _0x252b2e=await a3_0xf58b2b[_0xe0f419(0xcd)](_0x299a91);if(_0x49b856[_0x252b2e-0x1]!=undefined){const _0x5cd2c8=_0x49b856[_0x252b2e-0x1];this[_0xe0f419(0xd0)]=_0xe0f419(0x10b)+_0x5cd2c8;const _0x9de19a=_0xe0f419(0x109)+Helper[_0xe0f419(0x104)](this[_0xe0f419(0xd0)]+_0xe0f419(0xe1))+'\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20',_0x5da07c=await a3_0xf58b2b['text'](_0x9de19a);await Helper[_0xe0f419(0x107)](this[_0xe0f419(0xd0)],_0x5da07c),await Helper[_0xe0f419(0xfa)](0xbb8),await this['onBoarding']();}else console[_0xe0f419(0xf2)](_0xe0f419(0xee)),await this[_0xe0f419(0xf0)]();}catch(_0x543b29){throw _0x543b29;}}async[a3_0x38bb64(0xcc)](){const _0x20b5e2=a3_0x38bb64;try{if(Config[_0x20b5e2(0x11c)]==undefined||Config['TELEGRAM_APP_HASH']==undefined)throw new Error(_0x20b5e2(0x103));const _0x127c02=Helper[_0x20b5e2(0x11f)](_0x20b5e2(0xdd));let _0x5ee7b6=_0x20b5e2(0x11a);for(const _0x1087b4 of _0x127c02){_0x5ee7b6+=_0x127c02[_0x20b5e2(0xc8)](_0x1087b4)+0x1+'.\x20'+_0x1087b4+'\x0a';}_0x127c02['length']==0x0?_0x5ee7b6+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:':_0x5ee7b6+=_0x20b5e2(0xf4);const _0x2e4350=await a3_0xf58b2b[_0x20b5e2(0xcd)](_0x5ee7b6);this[_0x20b5e2(0xd0)]=Helper[_0x20b5e2(0xd6)](_0x20b5e2(0x111)+_0x2e4350),await this['useSession'](this[_0x20b5e2(0xd0)]),await this[_0x20b5e2(0x11b)](),a3_0x437415[_0x20b5e2(0x102)]('Session\x20'+this[_0x20b5e2(0xd0)]+'\x20-\x20Created'),console[_0x20b5e2(0x118)](_0x20b5e2(0xf8)+_0x2e4350+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),this[_0x20b5e2(0x100)][_0x20b5e2(0xff)](),await Helper[_0x20b5e2(0xfa)](0xbb8),process[_0x20b5e2(0x120)]();}catch(_0x53d3e9){throw _0x53d3e9;}}async[a3_0x38bb64(0x10a)](){const _0x2855a5=a3_0x38bb64;try{const _0x2b22fa=Helper[_0x2855a5(0x11f)](_0x2855a5(0xdd));let _0x8ff013='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x339620 of _0x2b22fa){_0x8ff013+=_0x2b22fa[_0x2855a5(0xc8)](_0x339620)+0x1+'.\x20'+_0x339620+'\x0a';}_0x2b22fa[_0x2855a5(0x116)]==0x0?_0x8ff013+=_0x2855a5(0xe6):_0x8ff013+='\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:';const _0x10e2bd=await a3_0xf58b2b[_0x2855a5(0xcd)](_0x8ff013);this['accountName']=Helper[_0x2855a5(0xd6)](_0x2855a5(0x101)+_0x10e2bd);let _0x212718=_0x2855a5(0x11e);const _0x538b41=await a3_0xf58b2b[_0x2855a5(0xcd)](_0x212718);await Helper['saveQueryFile'](this[_0x2855a5(0xd0)],_0x538b41),a3_0x437415['info'](_0x2855a5(0xdb)+this[_0x2855a5(0xd0)]+'\x20-\x20Created'),console[_0x2855a5(0x118)](_0x2855a5(0xdb)+_0x10e2bd+_0x2855a5(0xe5)),await Helper[_0x2855a5(0xfa)](0xbb8),process[_0x2855a5(0x120)]();}catch(_0x22cc3f){throw _0x22cc3f;}}async[a3_0x38bb64(0xeb)](){const _0x4894e8=a3_0x38bb64;try{const _0x1ed9be=Helper[_0x4894e8(0x11f)](_0x4894e8(0xdd));let _0x3ccacf='Your\x20Account\x20List\x20:\x0a\x20\x0a';if(_0x1ed9be[_0x4894e8(0x116)]>0x0)for(const _0x2484e3 of _0x1ed9be){_0x3ccacf+=_0x1ed9be[_0x4894e8(0xc8)](_0x2484e3)+0x1+'.\x20'+_0x2484e3+'\x0a';}else _0x3ccacf+=_0x4894e8(0xca);_0x3ccacf+='\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20';const _0x2d6627=await a3_0xf58b2b[_0x4894e8(0xcd)](_0x3ccacf);if(_0x2d6627==0x1)await this[_0x4894e8(0xcc)]();else _0x2d6627==0x2?await this['queryCreation']():(console[_0x4894e8(0x118)](_0x4894e8(0x106)),await this['accountType']());}catch(_0xd2ccb9){throw _0xd2ccb9;}}async[a3_0x38bb64(0xce)](_0x4174a9,_0x1aeb2b){const _0x1e2a35=a3_0x38bb64;try{this[_0x1e2a35(0xe9)]=_0x1aeb2b;const _0x126c32={'connectionRetries':0x5};this[_0x1e2a35(0xe9)]&&(_0x126c32[_0x1e2a35(0x117)]=new HttpsProxyAgent(this['proxy'])),this['storeSession']=new StoreSession(_0x4174a9),this[_0x1e2a35(0xf6)]=new TelegramClient(this[_0x1e2a35(0x100)],Config[_0x1e2a35(0x11c)],Config[_0x1e2a35(0x10c)],_0x126c32),this[_0x1e2a35(0x100)]['save'](),await this['client']['start']({'phoneNumber':async()=>await a3_0xf58b2b[_0x1e2a35(0xcd)](_0x1e2a35(0xe7)),'password':async()=>await a3_0xf58b2b[_0x1e2a35(0xcd)](_0x1e2a35(0xd4)),'phoneCode':async()=>await a3_0xf58b2b[_0x1e2a35(0xcd)](_0x1e2a35(0xda)),'onError':_0x18d6d5=>{const _0x1ec721=_0x1e2a35;console['log'](_0x18d6d5[_0x1ec721(0x110)]);}}),console[_0x1e2a35(0x118)]();}catch(_0x4cb124){throw _0x4cb124;}}async[a3_0x38bb64(0xcb)](){const _0x92316c=a3_0x38bb64;try{a3_0x437415[_0x92316c(0x102)]('Session\x20'+this['session']+_0x92316c(0xd9));while(this[_0x92316c(0xe2)]==undefined){try{this[_0x92316c(0xe2)]=await this[_0x92316c(0xf6)][_0x92316c(0xd7)](this[_0x92316c(0x108)]);break;}catch(_0xeb994a){if(_0xeb994a instanceof FloodWaitError){const _0x2ce270=_0xeb994a[_0x92316c(0xea)];a3_0x437415['warn'](this[_0x92316c(0xf6)][_0x92316c(0xd1)]['serverAddress']+_0x92316c(0xe4)+_0xeb994a),a3_0x437415[_0x92316c(0x102)](this['client'][_0x92316c(0xd1)][_0x92316c(0xfb)]+_0x92316c(0xdf)+_0x2ce270+'s'),await Helper[_0x92316c(0xfa)]((_0x2ce270+0x3)*0x3e8);}else throw _0xeb994a;}}}catch(_0xc9634c){throw _0xc9634c;}}async[a3_0x38bb64(0x11b)](){const _0x1d5e7d=a3_0x38bb64;await this[_0x1d5e7d(0xf6)][_0x1d5e7d(0x11b)](),await this[_0x1d5e7d(0xf6)]['destroy'](),this[_0x1d5e7d(0xe2)]=undefined,this[_0x1d5e7d(0xd0)]=undefined;}async['initWebView'](){const _0x22f8f3=a3_0x38bb64;try{const _0x47bdee=await this[_0x22f8f3(0xf6)][_0x22f8f3(0x113)](new Api[(_0x22f8f3(0x10d))][(_0x22f8f3(0xd8))]({'peer':this[_0x22f8f3(0xe2)],'bot':this[_0x22f8f3(0xe2)],'fromBotMenu':!![],'url':this[_0x22f8f3(0xef)],'platform':_0x22f8f3(0xf1)}));a3_0x437415['info'](_0x22f8f3(0xf8)+this[_0x22f8f3(0xd1)]+_0x22f8f3(0xf3));const _0x330d03=_0x47bdee[_0x22f8f3(0xef)];return Helper[_0x22f8f3(0x105)](_0x330d03,0x3);}catch(_0x532d77){throw _0x532d77;}}}