const a3_0x1bdf04=a3_0x4f98;function a3_0x4501(){const _0x1f455d=['getEntity','peer','error','1951Bacnje','https://major.glados.app/','onBoarding','session','RequestWebView','messages','text','813216htemcG','createDir','18AHGYhd','Your\x20Account\x20List\x20:\x0a\x20\x0a','filter','serverAddress','<empty>\x0a','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','resolvePeer','\x20|\x20FloodWait\x20','useSession','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','TELEGRAM_APP_ID','611809QaokfH','message','accountName','info','326216JARvzd','sessionCreation','374SxZxzD','getTelegramQuery','start','queryCreation','2256eHMyYg','\x20-\x20Webview\x20Connected','destroy','storeSession','stringify','android','invoke','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','Please\x20Enter\x20Telegram\x20Query\x20:\x20','6706omZTxg','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','bot','queryModificaiton','client','TELEGRAM_APP_HASH','length','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','log','saveQueryFile','accounts','url','warn','query-','@major','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','Enter\x20your\x20Telegram\x20Password?','indexOf','sessions-','Session\x20','Old\x20Query\x20:\x20','delay','783lyWywy','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','252lMMcOl','proxy','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','Welcome\x20to\x20Fintopio\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','getSession','\x20-\x20Created','You\x20dont\x20have\x20any\x20Query\x20Account.','accountType','includes','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','Invalid\x20input,\x20Please\x20try\x20again','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','exit','disconnect','accounts/','660640ilLOKL','Query\x20','49790hIbuTx','initWebView'];a3_0x4501=function(){return _0x1f455d;};return a3_0x4501();}(function(_0x42c7d5,_0x1c0236){const _0x52fcfe=a3_0x4f98,_0x4cf4ea=_0x42c7d5();while(!![]){try{const _0x3e51ba=-parseInt(_0x52fcfe(0x161))/0x1*(parseInt(_0x52fcfe(0x17b))/0x2)+-parseInt(_0x52fcfe(0x168))/0x3+-parseInt(_0x52fcfe(0x179))/0x4+-parseInt(_0x52fcfe(0x1b0))/0x5*(parseInt(_0x52fcfe(0x16a))/0x6)+parseInt(_0x52fcfe(0x188))/0x7*(-parseInt(_0x52fcfe(0x17f))/0x8)+parseInt(_0x52fcfe(0x19f))/0x9*(parseInt(_0x52fcfe(0x1b2))/0xa)+parseInt(_0x52fcfe(0x175))/0xb*(parseInt(_0x52fcfe(0x1a1))/0xc);if(_0x3e51ba===_0x1c0236)break;else _0x4cf4ea['push'](_0x4cf4ea['shift']());}catch(_0x310b39){_0x4cf4ea['push'](_0x4cf4ea['shift']());}}}(a3_0x4501,0x35051));import a3_0x15f474 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x2bae0f from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';function a3_0x4f98(_0x496450,_0x3d2d07){const _0x4501fb=a3_0x4501();return a3_0x4f98=function(_0x4f98fd,_0x4c1989){_0x4f98fd=_0x4f98fd-0x15e;let _0x1f4b3f=_0x4501fb[_0x4f98fd];return _0x1f4b3f;},a3_0x4f98(_0x496450,_0x3d2d07);}import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a3_0x1bdf04(0x182)];constructor(){const _0x4df997=a3_0x1bdf04;this['accountName']=_0x4df997(0x193),this[_0x4df997(0x194)]=_0x4df997(0x162),this[_0x4df997(0x18b)]=_0x4df997(0x197);}async['init'](){const _0x19b464=a3_0x1bdf04;try{await this[_0x19b464(0x163)]();}catch(_0x19702c){console[_0x19b464(0x191)](_0x19702c),a3_0x2bae0f[_0x19b464(0x160)](''+JSON[_0x19b464(0x183)](_0x19702c));throw _0x19702c;}}async[a3_0x1bdf04(0x163)](){const _0x41a29e=a3_0x1bdf04;try{let _0x48e278=_0x41a29e(0x1a4);const _0x36c13d=Helper[_0x41a29e(0x1a5)](_0x41a29e(0x193));if(_0x36c13d[_0x41a29e(0x18f)]==0x0)_0x48e278+='<empty>';else for(const _0x45bcd3 of _0x36c13d){_0x48e278+='-\x20'+_0x45bcd3+'\x0a';}_0x48e278+='\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a',_0x48e278+=_0x41a29e(0x18a);const _0x138b1e=await a3_0x15f474[_0x41a29e(0x167)](_0x48e278);if(_0x138b1e==0x1)await this[_0x41a29e(0x1a8)]();else{if(_0x138b1e==0x2)Helper['resetAccounts'](),await Helper['delay'](0xbb8),await this[_0x41a29e(0x163)]();else{if(_0x138b1e==0x3)Helper[_0x41a29e(0x1a5)](this[_0x41a29e(0x177)])?.[_0x41a29e(0x18f)]==0x0&&(console[_0x41a29e(0x178)](_0x41a29e(0x16f)),await this[_0x41a29e(0x163)]());else _0x138b1e==0x4?await this[_0x41a29e(0x18c)]():(console[_0x41a29e(0x160)](_0x41a29e(0x1ab)),await this[_0x41a29e(0x163)]());}}}catch(_0x24e518){throw _0x24e518;}}async[a3_0x1bdf04(0x18c)](){const _0x52c848=a3_0x1bdf04;try{const _0x2820a5=Helper[_0x52c848(0x1a5)](_0x52c848(0x193)),_0x5b96ae=_0x2820a5[_0x52c848(0x16c)](_0x173d2e=>_0x173d2e[_0x52c848(0x1a9)]('query'));let _0x4c98d7=_0x52c848(0x1aa);for(const _0x2723bb of _0x5b96ae){_0x4c98d7+=_0x2820a5['indexOf'](_0x2723bb)+0x1+'.\x20'+_0x2723bb+'\x0a';}_0x5b96ae[_0x52c848(0x18f)]==0x0?(console[_0x52c848(0x191)](_0x52c848(0x1a7)),await this[_0x52c848(0x163)]()):_0x4c98d7+=_0x52c848(0x190);const _0x5ea66a=await a3_0x15f474['text'](_0x4c98d7);if(_0x5b96ae[_0x5ea66a-0x1]!=undefined){const _0x414728=_0x5b96ae[_0x5ea66a-0x1];this[_0x52c848(0x177)]=_0x52c848(0x1af)+_0x414728;const _0x2b2990=_0x52c848(0x19d)+Helper['readQueryFile'](this[_0x52c848(0x177)]+'/query.txt')+_0x52c848(0x173),_0x4c94ab=await a3_0x15f474[_0x52c848(0x167)](_0x2b2990);await Helper[_0x52c848(0x192)](this[_0x52c848(0x177)],_0x4c94ab),await Helper[_0x52c848(0x19e)](0xbb8),await this['onBoarding']();}else console[_0x52c848(0x160)]('Invalid\x20input,\x20Please\x20try\x20again'),await this[_0x52c848(0x18c)]();}catch(_0x2a16b3){throw _0x2a16b3;}}async[a3_0x1bdf04(0x17a)](){const _0x23e8c9=a3_0x1bdf04;try{if(Config[_0x23e8c9(0x174)]==undefined||Config['TELEGRAM_APP_HASH']==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0x16f7f5=Helper[_0x23e8c9(0x1a5)]('accounts');let _0x2b46c5=_0x23e8c9(0x16b);for(const _0x41dd5e of _0x16f7f5){_0x2b46c5+=_0x16f7f5[_0x23e8c9(0x19a)](_0x41dd5e)+0x1+'.\x20'+_0x41dd5e+'\x0a';}_0x16f7f5[_0x23e8c9(0x18f)]==0x0?_0x2b46c5+=_0x23e8c9(0x1a0):_0x2b46c5+=_0x23e8c9(0x1ac);const _0x495ddc=await a3_0x15f474[_0x23e8c9(0x167)](_0x2b46c5);this[_0x23e8c9(0x177)]=Helper[_0x23e8c9(0x169)](_0x23e8c9(0x19b)+_0x495ddc),await this['useSession'](this['accountName']),await this[_0x23e8c9(0x1ae)](),a3_0x2bae0f['info'](_0x23e8c9(0x19c)+this[_0x23e8c9(0x177)]+_0x23e8c9(0x1a6)),console['log']('Session\x20'+_0x495ddc+_0x23e8c9(0x186)),this[_0x23e8c9(0x182)]['save'](),await Helper[_0x23e8c9(0x19e)](0xbb8),process[_0x23e8c9(0x1ad)]();}catch(_0x21f8f6){throw _0x21f8f6;}}async[a3_0x1bdf04(0x17e)](){const _0xdecd98=a3_0x1bdf04;try{const _0x27854b=Helper[_0xdecd98(0x1a5)](_0xdecd98(0x193));let _0x42d739='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x500f62 of _0x27854b){_0x42d739+=_0x27854b[_0xdecd98(0x19a)](_0x500f62)+0x1+'.\x20'+_0x500f62+'\x0a';}_0x27854b[_0xdecd98(0x18f)]==0x0?_0x42d739+=_0xdecd98(0x198):_0x42d739+=_0xdecd98(0x189);const _0x229cd6=await a3_0x15f474[_0xdecd98(0x167)](_0x42d739);this[_0xdecd98(0x177)]=Helper[_0xdecd98(0x169)](_0xdecd98(0x196)+_0x229cd6);let _0x1c51c2=_0xdecd98(0x187);const _0x45678e=await a3_0x15f474[_0xdecd98(0x167)](_0x1c51c2);await Helper[_0xdecd98(0x192)](this[_0xdecd98(0x177)],_0x45678e),a3_0x2bae0f[_0xdecd98(0x178)](_0xdecd98(0x1b1)+this['accountName']+'\x20-\x20Created'),console[_0xdecd98(0x191)](_0xdecd98(0x1b1)+_0x229cd6+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),await Helper['delay'](0xbb8),process['exit']();}catch(_0xc2674a){throw _0xc2674a;}}async[a3_0x1bdf04(0x1a8)](){const _0x16b584=a3_0x1bdf04;try{const _0x5cb688=Helper[_0x16b584(0x1a5)](_0x16b584(0x193));let _0xba4353=_0x16b584(0x16b);if(_0x5cb688[_0x16b584(0x18f)]>0x0)for(const _0xc6d9c4 of _0x5cb688){_0xba4353+=_0x5cb688[_0x16b584(0x19a)](_0xc6d9c4)+0x1+'.\x20'+_0xc6d9c4+'\x0a';}else _0xba4353+=_0x16b584(0x16e);_0xba4353+='\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20';const _0x21dd66=await a3_0x15f474[_0x16b584(0x167)](_0xba4353);if(_0x21dd66==0x1)await this[_0x16b584(0x17a)]();else _0x21dd66==0x2?await this['queryCreation']():(console['log']('Invalid\x20Input'),await this[_0x16b584(0x1a8)]());}catch(_0x2220f7){throw _0x2220f7;}}async[a3_0x1bdf04(0x172)](_0x38bc6f,_0x124b37){const _0x48ade6=a3_0x1bdf04;try{this[_0x48ade6(0x1a2)]=_0x124b37;const _0x347c97={'connectionRetries':0x5};this[_0x48ade6(0x1a2)]&&(_0x347c97['agent']=new HttpsProxyAgent(this[_0x48ade6(0x1a2)])),this[_0x48ade6(0x182)]=new StoreSession(_0x38bc6f),this[_0x48ade6(0x18d)]=new TelegramClient(this[_0x48ade6(0x182)],Config[_0x48ade6(0x174)],Config[_0x48ade6(0x18e)],_0x347c97),this['storeSession']['save'](),await this[_0x48ade6(0x18d)][_0x48ade6(0x17d)]({'phoneNumber':async()=>await a3_0x15f474[_0x48ade6(0x167)](_0x48ade6(0x1a3)),'password':async()=>await a3_0x15f474[_0x48ade6(0x167)](_0x48ade6(0x199)),'phoneCode':async()=>await a3_0x15f474[_0x48ade6(0x167)]('Enter\x20your\x20Telegram\x20Verification\x20Code\x20?'),'onError':_0xa3ca93=>{const _0x5dbf74=_0x48ade6;console[_0x5dbf74(0x191)](_0xa3ca93[_0x5dbf74(0x176)]);}}),console[_0x48ade6(0x191)]();}catch(_0x46149b){throw _0x46149b;}}async[a3_0x1bdf04(0x170)](){const _0x3d95be=a3_0x1bdf04;try{a3_0x2bae0f['info'](_0x3d95be(0x19c)+this[_0x3d95be(0x164)]+'\x20-\x20Resolving\x20Peer');while(this[_0x3d95be(0x15f)]==undefined){try{this[_0x3d95be(0x15f)]=await this[_0x3d95be(0x18d)][_0x3d95be(0x15e)](this['bot']);break;}catch(_0x3e7427){if(_0x3e7427 instanceof FloodWaitError){const _0x30aacb=_0x3e7427['seconds'];a3_0x2bae0f[_0x3d95be(0x195)](this[_0x3d95be(0x18d)][_0x3d95be(0x164)][_0x3d95be(0x16d)]+_0x3d95be(0x171)+_0x3e7427),a3_0x2bae0f['info'](this[_0x3d95be(0x18d)][_0x3d95be(0x164)]['serverAddress']+'\x20|\x20Sleep\x20'+_0x30aacb+'s'),await Helper[_0x3d95be(0x19e)]((_0x30aacb+0x3)*0x3e8);}else throw _0x3e7427;}}}catch(_0xd65c34){throw _0xd65c34;}}async[a3_0x1bdf04(0x1ae)](){const _0x9172f5=a3_0x1bdf04;await this[_0x9172f5(0x18d)][_0x9172f5(0x1ae)](),await this[_0x9172f5(0x18d)][_0x9172f5(0x181)](),this[_0x9172f5(0x15f)]=undefined,this['accountName']=undefined;}async[a3_0x1bdf04(0x1b3)](){const _0x43f8fc=a3_0x1bdf04;try{const _0x220eb5=await this[_0x43f8fc(0x18d)][_0x43f8fc(0x185)](new Api[(_0x43f8fc(0x166))][(_0x43f8fc(0x165))]({'peer':this[_0x43f8fc(0x15f)],'bot':this[_0x43f8fc(0x15f)],'fromBotMenu':!![],'url':this['url'],'platform':_0x43f8fc(0x184)}));a3_0x2bae0f['info']('Session\x20'+this[_0x43f8fc(0x164)]+_0x43f8fc(0x180));const _0x215d2e=_0x220eb5['url'];return Helper[_0x43f8fc(0x17c)](_0x215d2e,0x3);}catch(_0x542c4d){throw _0x542c4d;}}}