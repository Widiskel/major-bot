const a3_0x208a13=a3_0x5ca0;(function(_0x4ba0dc,_0x3a2b5c){const _0xd311d3=a3_0x5ca0,_0x1bd3e0=_0x4ba0dc();while(!![]){try{const _0x4a9676=parseInt(_0xd311d3(0x206))/0x1+-parseInt(_0xd311d3(0x225))/0x2*(-parseInt(_0xd311d3(0x227))/0x3)+parseInt(_0xd311d3(0x215))/0x4+-parseInt(_0xd311d3(0x200))/0x5+-parseInt(_0xd311d3(0x229))/0x6+-parseInt(_0xd311d3(0x1e3))/0x7*(-parseInt(_0xd311d3(0x21d))/0x8)+-parseInt(_0xd311d3(0x22d))/0x9;if(_0x4a9676===_0x3a2b5c)break;else _0x1bd3e0['push'](_0x1bd3e0['shift']());}catch(_0x3b03f8){_0x1bd3e0['push'](_0x1bd3e0['shift']());}}}(a3_0x67ea,0xd982a));import a3_0x58e668 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';function a3_0x5ca0(_0x31714b,_0x3c7219){const _0x67ea7c=a3_0x67ea();return a3_0x5ca0=function(_0x5ca0c2,_0x4551d3){_0x5ca0c2=_0x5ca0c2-0x1e3;let _0x2e202a=_0x67ea7c[_0x5ca0c2];return _0x2e202a;},a3_0x5ca0(_0x31714b,_0x3c7219);}import{StoreSession}from'telegram/sessions/StoreSession.js';function a3_0x67ea(){const _0x413769=['https://major.glados.app/','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','<empty>\x0a','RequestWebView','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','queryModificaiton','stringify','onBoarding','TELEGRAM_APP_HASH','url','sessionCreation','exit','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','sessions-','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','android','peer','2815605sZAAKm','getEntity','session','log','agent','save','1310014QfJIdy','serverAddress','You\x20dont\x20have\x20any\x20Query\x20Account.','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','delay','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','Session\x20','\x20|\x20FloodWait\x20','\x20-\x20Webview\x20Connected','warn','@major','\x20-\x20Resolving\x20Peer','start','useSession','destroy','5105772WxmQdn','Welcome\x20to\x20Fintopio\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','accountName','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','saveQueryFile','queryCreation','resolvePeer','32mhsIJf','message','info','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','Your\x20Account\x20List\x20:\x0a\x20\x0a','Invalid\x20input,\x20Please\x20try\x20again','accounts/','getTelegramQuery','6bPqQRn','createDir','230253cPYcQK','Please\x20Enter\x20Telegram\x20Query\x20:\x20','6224568UaLGpp','disconnect','storeSession','TELEGRAM_APP_ID','11883807pCHYWq','messages','getSession','Query\x20','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','includes','Invalid\x20Input','\x20|\x20Sleep\x20','invoke','error','1741572KlzfHb','Old\x20Query\x20:\x20','/query.txt','\x20-\x20Created','readQueryFile','proxy','indexOf','accounts','length','bot','text','client'];a3_0x67ea=function(){return _0x413769;};return a3_0x67ea();}import a3_0x2cf65a from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{['storeSession'];constructor(){const _0x4c72ae=a3_0x5ca0;this[_0x4c72ae(0x218)]=_0x4c72ae(0x1ea),this[_0x4c72ae(0x1f8)]=_0x4c72ae(0x1ef),this[_0x4c72ae(0x1ec)]=_0x4c72ae(0x210);}async['init'](){const _0x26ec37=a3_0x5ca0;try{await this[_0x26ec37(0x1f6)]();}catch(_0x19766f){console[_0x26ec37(0x203)](_0x19766f),a3_0x2cf65a[_0x26ec37(0x236)](''+JSON[_0x26ec37(0x1f5)](_0x19766f));throw _0x19766f;}}async[a3_0x208a13(0x1f6)](){const _0x5becaa=a3_0x208a13;try{let _0x4d89f3=_0x5becaa(0x216);const _0x1b553b=Helper[_0x5becaa(0x22f)](_0x5becaa(0x1ea));if(_0x1b553b['length']==0x0)_0x4d89f3+='<empty>';else for(const _0x3372af of _0x1b553b){_0x4d89f3+='-\x20'+_0x3372af+'\x0a';}_0x4d89f3+=_0x5becaa(0x1f3),_0x4d89f3+='\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:';const _0xb97378=await a3_0x58e668['text'](_0x4d89f3);if(_0xb97378==0x1)await this['accountType']();else{if(_0xb97378==0x2)Helper['resetAccounts'](),await Helper[_0x5becaa(0x20a)](0xbb8),await this[_0x5becaa(0x1f6)]();else{if(_0xb97378==0x3)Helper[_0x5becaa(0x22f)](this[_0x5becaa(0x218)])?.['length']==0x0&&(console['info'](_0x5becaa(0x20b)),await this['onBoarding']());else _0xb97378==0x4?await this[_0x5becaa(0x1f4)]():(console[_0x5becaa(0x236)](_0x5becaa(0x222)),await this['onBoarding']());}}}catch(_0x43acbd){throw _0x43acbd;}}async[a3_0x208a13(0x1f4)](){const _0x5d03f6=a3_0x208a13;try{const _0x3eb1c9=Helper['getSession'](_0x5d03f6(0x1ea)),_0x13801b=_0x3eb1c9['filter'](_0x415d33=>_0x415d33[_0x5d03f6(0x232)]('query'));let _0x246c80=_0x5d03f6(0x209);for(const _0x3865b6 of _0x13801b){_0x246c80+=_0x3eb1c9[_0x5d03f6(0x1e9)](_0x3865b6)+0x1+'.\x20'+_0x3865b6+'\x0a';}_0x13801b[_0x5d03f6(0x1eb)]==0x0?(console[_0x5d03f6(0x203)](_0x5d03f6(0x208)),await this['onBoarding']()):_0x246c80+=_0x5d03f6(0x1fb);const _0x30deb0=await a3_0x58e668[_0x5d03f6(0x1ed)](_0x246c80);if(_0x13801b[_0x30deb0-0x1]!=undefined){const _0x4488e0=_0x13801b[_0x30deb0-0x1];this[_0x5d03f6(0x218)]=_0x5d03f6(0x223)+_0x4488e0;const _0x28d979=_0x5d03f6(0x1e4)+Helper[_0x5d03f6(0x1e7)](this[_0x5d03f6(0x218)]+_0x5d03f6(0x1e5))+_0x5d03f6(0x219),_0x4864cc=await a3_0x58e668[_0x5d03f6(0x1ed)](_0x28d979);await Helper[_0x5d03f6(0x21a)](this[_0x5d03f6(0x218)],_0x4864cc),await Helper['delay'](0xbb8),await this[_0x5d03f6(0x1f6)]();}else console[_0x5d03f6(0x236)](_0x5d03f6(0x222)),await this['queryModificaiton']();}catch(_0x40133c){throw _0x40133c;}}async[a3_0x208a13(0x1f9)](){const _0xa6b0de=a3_0x208a13;try{if(Config['TELEGRAM_APP_ID']==undefined||Config[_0xa6b0de(0x1f7)]==undefined)throw new Error('Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first');const _0xf6663=Helper['getSession']('accounts');let _0x2cd5be='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0xf59688 of _0xf6663){_0x2cd5be+=_0xf6663['indexOf'](_0xf59688)+0x1+'.\x20'+_0xf59688+'\x0a';}_0xf6663[_0xa6b0de(0x1eb)]==0x0?_0x2cd5be+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:':_0x2cd5be+=_0xa6b0de(0x1fd);const _0x31337d=await a3_0x58e668[_0xa6b0de(0x1ed)](_0x2cd5be);this[_0xa6b0de(0x218)]=Helper[_0xa6b0de(0x226)](_0xa6b0de(0x1fc)+_0x31337d),await this[_0xa6b0de(0x213)](this[_0xa6b0de(0x218)]),await this[_0xa6b0de(0x22a)](),a3_0x2cf65a[_0xa6b0de(0x21f)](_0xa6b0de(0x20c)+this[_0xa6b0de(0x218)]+_0xa6b0de(0x1e6)),console['log']('Session\x20'+_0x31337d+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),this[_0xa6b0de(0x22b)][_0xa6b0de(0x205)](),await Helper['delay'](0xbb8),process[_0xa6b0de(0x1fa)]();}catch(_0xe6804){throw _0xe6804;}}async[a3_0x208a13(0x21b)](){const _0x401025=a3_0x208a13;try{const _0x3e5980=Helper[_0x401025(0x22f)](_0x401025(0x1ea));let _0x14c379=_0x401025(0x221);for(const _0x11853c of _0x3e5980){_0x14c379+=_0x3e5980[_0x401025(0x1e9)](_0x11853c)+0x1+'.\x20'+_0x11853c+'\x0a';}_0x3e5980[_0x401025(0x1eb)]==0x0?_0x14c379+=_0x401025(0x217):_0x14c379+=_0x401025(0x220);const _0x5ae3a6=await a3_0x58e668[_0x401025(0x1ed)](_0x14c379);this[_0x401025(0x218)]=Helper['createDir']('query-'+_0x5ae3a6);let _0xb676a=_0x401025(0x228);const _0xedbf0f=await a3_0x58e668[_0x401025(0x1ed)](_0xb676a);await Helper[_0x401025(0x21a)](this['accountName'],_0xedbf0f),a3_0x2cf65a[_0x401025(0x21f)]('Query\x20'+this['accountName']+_0x401025(0x1e6)),console[_0x401025(0x203)](_0x401025(0x230)+_0x5ae3a6+_0x401025(0x231)),await Helper[_0x401025(0x20a)](0xbb8),process[_0x401025(0x1fa)]();}catch(_0xdfb6f){throw _0xdfb6f;}}async['accountType'](){const _0x4c824b=a3_0x208a13;try{const _0x1bec4b=Helper[_0x4c824b(0x22f)]('accounts');let _0x2fc336=_0x4c824b(0x221);if(_0x1bec4b[_0x4c824b(0x1eb)]>0x0)for(const _0x135593 of _0x1bec4b){_0x2fc336+=_0x1bec4b[_0x4c824b(0x1e9)](_0x135593)+0x1+'.\x20'+_0x135593+'\x0a';}else _0x2fc336+=_0x4c824b(0x1f1);_0x2fc336+=_0x4c824b(0x1f0);const _0x21af49=await a3_0x58e668['text'](_0x2fc336);if(_0x21af49==0x1)await this[_0x4c824b(0x1f9)]();else _0x21af49==0x2?await this[_0x4c824b(0x21b)]():(console['log'](_0x4c824b(0x233)),await this['accountType']());}catch(_0x4f2113){throw _0x4f2113;}}async[a3_0x208a13(0x213)](_0x1b07e7,_0x52aff8){const _0x5fe39e=a3_0x208a13;try{this['proxy']=_0x52aff8;const _0x51f5a8={'connectionRetries':0x5};this[_0x5fe39e(0x1e8)]&&(_0x51f5a8[_0x5fe39e(0x204)]=new HttpsProxyAgent(this[_0x5fe39e(0x1e8)])),this[_0x5fe39e(0x22b)]=new StoreSession(_0x1b07e7),this[_0x5fe39e(0x1ee)]=new TelegramClient(this[_0x5fe39e(0x22b)],Config[_0x5fe39e(0x22c)],Config['TELEGRAM_APP_HASH'],_0x51f5a8),this[_0x5fe39e(0x22b)][_0x5fe39e(0x205)](),await this[_0x5fe39e(0x1ee)][_0x5fe39e(0x212)]({'phoneNumber':async()=>await a3_0x58e668[_0x5fe39e(0x1ed)]('Enter\x20your\x20Telegram\x20Phone\x20Number\x20?'),'password':async()=>await a3_0x58e668['text']('Enter\x20your\x20Telegram\x20Password?'),'phoneCode':async()=>await a3_0x58e668[_0x5fe39e(0x1ed)]('Enter\x20your\x20Telegram\x20Verification\x20Code\x20?'),'onError':_0x27787e=>{const _0x3ac907=_0x5fe39e;console[_0x3ac907(0x203)](_0x27787e[_0x3ac907(0x21e)]);}}),console[_0x5fe39e(0x203)]();}catch(_0x1ca2a2){throw _0x1ca2a2;}}async[a3_0x208a13(0x21c)](){const _0x254876=a3_0x208a13;try{a3_0x2cf65a[_0x254876(0x21f)]('Session\x20'+this[_0x254876(0x202)]+_0x254876(0x211));while(this[_0x254876(0x1ff)]==undefined){try{this[_0x254876(0x1ff)]=await this[_0x254876(0x1ee)][_0x254876(0x201)](this[_0x254876(0x1ec)]);break;}catch(_0x5dd549){if(_0x5dd549 instanceof FloodWaitError){const _0x184fbe=_0x5dd549['seconds'];a3_0x2cf65a[_0x254876(0x20f)](this[_0x254876(0x1ee)][_0x254876(0x202)][_0x254876(0x207)]+_0x254876(0x20d)+_0x5dd549),a3_0x2cf65a[_0x254876(0x21f)](this[_0x254876(0x1ee)]['session'][_0x254876(0x207)]+_0x254876(0x234)+_0x184fbe+'s'),await Helper[_0x254876(0x20a)]((_0x184fbe+0x3)*0x3e8);}else throw _0x5dd549;}}}catch(_0x3721c1){throw _0x3721c1;}}async[a3_0x208a13(0x22a)](){const _0x28bc57=a3_0x208a13;await this[_0x28bc57(0x1ee)][_0x28bc57(0x22a)](),await this['client'][_0x28bc57(0x214)](),this[_0x28bc57(0x1ff)]=undefined,this[_0x28bc57(0x218)]=undefined;}async['initWebView'](){const _0x58bfc4=a3_0x208a13;try{const _0x61152=await this[_0x58bfc4(0x1ee)][_0x58bfc4(0x235)](new Api[(_0x58bfc4(0x22e))][(_0x58bfc4(0x1f2))]({'peer':this[_0x58bfc4(0x1ff)],'bot':this[_0x58bfc4(0x1ff)],'fromBotMenu':!![],'url':this['url'],'platform':_0x58bfc4(0x1fe)}));a3_0x2cf65a[_0x58bfc4(0x21f)](_0x58bfc4(0x20c)+this[_0x58bfc4(0x202)]+_0x58bfc4(0x20e));const _0x7db3be=_0x61152[_0x58bfc4(0x1f8)];return Helper[_0x58bfc4(0x224)](_0x7db3be,0x3);}catch(_0x4e6c15){throw _0x4e6c15;}}}