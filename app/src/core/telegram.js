const a3_0x3306cf=a3_0x5319;(function(_0x298f29,_0x469188){const _0x33f385=a3_0x5319,_0x3ca432=_0x298f29();while(!![]){try{const _0x7da486=-parseInt(_0x33f385(0x7e))/0x1*(-parseInt(_0x33f385(0x81))/0x2)+-parseInt(_0x33f385(0x73))/0x3+parseInt(_0x33f385(0xab))/0x4*(-parseInt(_0x33f385(0xae))/0x5)+-parseInt(_0x33f385(0x9a))/0x6+parseInt(_0x33f385(0x91))/0x7*(parseInt(_0x33f385(0x7c))/0x8)+-parseInt(_0x33f385(0x7a))/0x9*(-parseInt(_0x33f385(0x88))/0xa)+parseInt(_0x33f385(0xbd))/0xb;if(_0x7da486===_0x469188)break;else _0x3ca432['push'](_0x3ca432['shift']());}catch(_0x417998){_0x3ca432['push'](_0x3ca432['shift']());}}}(a3_0x4bfa,0xec421));import a3_0x25cb95 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x5b7a2f from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';function a3_0x5319(_0x39ea90,_0x307736){const _0x4bfad4=a3_0x4bfa();return a3_0x5319=function(_0x53194a,_0x5c7aaf){_0x53194a=_0x53194a-0x6c;let _0xbb6555=_0x4bfad4[_0x53194a];return _0xbb6555;},a3_0x5319(_0x39ea90,_0x307736);}import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';function a3_0x4bfa(){const _0x31f162=['@major','storeSession','invoke','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','\x20-\x20Created','includes','text','6401724ZViFGd','query-','Invalid\x20input,\x20Please\x20try\x20again','Session\x20','Query\x20','accountName','seconds','delay','resetAccounts','3152724LovIeu','client','queryModificaiton','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','disconnect','sessionCreation','session','serverAddress','message','\x20|\x20Sleep\x20','<empty>\x0a','initWebView','getTelegramQuery','You\x20dont\x20have\x20any\x20Query\x20Account.','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','accountType','android','518536GdhEwJ','length','init','50JZQHgr','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','queryCreation','url','exit','saveQueryFile','filter','save','peer','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','proxy','info','accounts','getSession','<empty>','24680986RJDjNm','https://major.glados.app/','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','error','bot','log','warn','indexOf','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','useSession','2496723AWHYxO','resolvePeer','Your\x20Account\x20List\x20:\x0a\x20\x0a','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','onBoarding','/query.txt','940428kXUgom','Enter\x20your\x20Telegram\x20Password?','8fnImdS','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','54kRIilb','TELEGRAM_APP_HASH','getEntity','1686FINuUJ','agent','\x20-\x20Webview\x20Connected','accounts/','createDir','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','readQueryFile','40jowYvg','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20'];a3_0x4bfa=function(){return _0x31f162;};return a3_0x4bfa();}export class Telegram{[a3_0x3306cf(0x8b)];constructor(){const _0x4079a4=a3_0x3306cf;this[_0x4079a4(0x96)]='accounts',this[_0x4079a4(0xb1)]=_0x4079a4(0xbe),this['bot']=_0x4079a4(0x8a);}async[a3_0x3306cf(0xad)](){const _0x4c36d6=a3_0x3306cf;try{await this['onBoarding']();}catch(_0x2fae91){console[_0x4c36d6(0x6d)](_0x2fae91),a3_0x5b7a2f[_0x4c36d6(0xc0)](''+JSON['stringify'](_0x2fae91));throw _0x2fae91;}}async['onBoarding'](){const _0x23854a=a3_0x3306cf;try{let _0x1f3dc4='Welcome\x20to\x20Fintopio\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a';const _0x102cd5=Helper[_0x23854a(0xbb)](_0x23854a(0xba));if(_0x102cd5[_0x23854a(0xac)]==0x0)_0x1f3dc4+=_0x23854a(0xbc);else for(const _0x5605e9 of _0x102cd5){_0x1f3dc4+='-\x20'+_0x5605e9+'\x0a';}_0x1f3dc4+=_0x23854a(0xb7),_0x1f3dc4+='\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:';const _0xca2c9b=await a3_0x25cb95[_0x23854a(0x90)](_0x1f3dc4);if(_0xca2c9b==0x1)await this[_0x23854a(0xa9)]();else{if(_0xca2c9b==0x2)Helper[_0x23854a(0x99)](),await Helper[_0x23854a(0x98)](0xbb8),await this['onBoarding']();else{if(_0xca2c9b==0x3)Helper[_0x23854a(0xbb)](this[_0x23854a(0x96)])?.[_0x23854a(0xac)]==0x0&&(console['info'](_0x23854a(0xa8)),await this[_0x23854a(0x78)]());else _0xca2c9b==0x4?await this[_0x23854a(0x9c)]():(console['error'](_0x23854a(0x93)),await this[_0x23854a(0x78)]());}}}catch(_0x1eab3e){throw _0x1eab3e;}}async['queryModificaiton'](){const _0x1128b4=a3_0x3306cf;try{const _0x371232=Helper[_0x1128b4(0xbb)]('accounts'),_0x41ac1d=_0x371232[_0x1128b4(0xb4)](_0x482761=>_0x482761[_0x1128b4(0x8f)]('query'));let _0x372d9c='Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x30fe97 of _0x41ac1d){_0x372d9c+=_0x371232[_0x1128b4(0x6f)](_0x30fe97)+0x1+'.\x20'+_0x30fe97+'\x0a';}_0x41ac1d[_0x1128b4(0xac)]==0x0?(console[_0x1128b4(0x6d)](_0x1128b4(0xa7)),await this['onBoarding']()):_0x372d9c+=_0x1128b4(0x76);const _0x2a21ce=await a3_0x25cb95[_0x1128b4(0x90)](_0x372d9c);if(_0x41ac1d[_0x2a21ce-0x1]!=undefined){const _0x217fa8=_0x41ac1d[_0x2a21ce-0x1];this[_0x1128b4(0x96)]=_0x1128b4(0x84)+_0x217fa8;const _0x466026='Old\x20Query\x20:\x20'+Helper[_0x1128b4(0x87)](this['accountName']+_0x1128b4(0x79))+_0x1128b4(0x89),_0x39e2e9=await a3_0x25cb95[_0x1128b4(0x90)](_0x466026);await Helper[_0x1128b4(0xb3)](this[_0x1128b4(0x96)],_0x39e2e9),await Helper['delay'](0xbb8),await this[_0x1128b4(0x78)]();}else console[_0x1128b4(0xc0)](_0x1128b4(0x93)),await this[_0x1128b4(0x9c)]();}catch(_0x1d1fee){throw _0x1d1fee;}}async[a3_0x3306cf(0x9f)](){const _0x1f7830=a3_0x3306cf;try{if(Config['TELEGRAM_APP_ID']==undefined||Config[_0x1f7830(0x7f)]==undefined)throw new Error(_0x1f7830(0x86));const _0x4d7227=Helper['getSession'](_0x1f7830(0xba));let _0x46f2fb=_0x1f7830(0x75);for(const _0x141d0a of _0x4d7227){_0x46f2fb+=_0x4d7227['indexOf'](_0x141d0a)+0x1+'.\x20'+_0x141d0a+'\x0a';}_0x4d7227[_0x1f7830(0xac)]==0x0?_0x46f2fb+=_0x1f7830(0x77):_0x46f2fb+=_0x1f7830(0x71);const _0x5b96ed=await a3_0x25cb95[_0x1f7830(0x90)](_0x46f2fb);this[_0x1f7830(0x96)]=Helper[_0x1f7830(0x85)]('sessions-'+_0x5b96ed),await this[_0x1f7830(0x72)](this['accountName']),await this[_0x1f7830(0x9e)](),a3_0x5b7a2f[_0x1f7830(0xb9)](_0x1f7830(0x94)+this[_0x1f7830(0x96)]+_0x1f7830(0x8e)),console[_0x1f7830(0x6d)](_0x1f7830(0x94)+_0x5b96ed+_0x1f7830(0x7d)),this['storeSession'][_0x1f7830(0xb5)](),await Helper[_0x1f7830(0x98)](0xbb8),process[_0x1f7830(0xb2)]();}catch(_0x100a31){throw _0x100a31;}}async[a3_0x3306cf(0xb0)](){const _0x4dd35c=a3_0x3306cf;try{const _0x5d7f29=Helper[_0x4dd35c(0xbb)]('accounts');let _0x5194cd=_0x4dd35c(0x75);for(const _0x5697be of _0x5d7f29){_0x5194cd+=_0x5d7f29[_0x4dd35c(0x6f)](_0x5697be)+0x1+'.\x20'+_0x5697be+'\x0a';}_0x5d7f29[_0x4dd35c(0xac)]==0x0?_0x5194cd+=_0x4dd35c(0x70):_0x5194cd+=_0x4dd35c(0x8d);const _0x1f7cdc=await a3_0x25cb95[_0x4dd35c(0x90)](_0x5194cd);this[_0x4dd35c(0x96)]=Helper[_0x4dd35c(0x85)](_0x4dd35c(0x92)+_0x1f7cdc);let _0xe9cc0b='Please\x20Enter\x20Telegram\x20Query\x20:\x20';const _0x95e968=await a3_0x25cb95[_0x4dd35c(0x90)](_0xe9cc0b);await Helper[_0x4dd35c(0xb3)](this[_0x4dd35c(0x96)],_0x95e968),a3_0x5b7a2f[_0x4dd35c(0xb9)](_0x4dd35c(0x95)+this[_0x4dd35c(0x96)]+_0x4dd35c(0x8e)),console[_0x4dd35c(0x6d)](_0x4dd35c(0x95)+_0x1f7cdc+_0x4dd35c(0x7d)),await Helper[_0x4dd35c(0x98)](0xbb8),process[_0x4dd35c(0xb2)]();}catch(_0x4d3e39){throw _0x4d3e39;}}async['accountType'](){const _0x364984=a3_0x3306cf;try{const _0x239779=Helper['getSession'](_0x364984(0xba));let _0x235d9c='Your\x20Account\x20List\x20:\x0a\x20\x0a';if(_0x239779[_0x364984(0xac)]>0x0)for(const _0x10c677 of _0x239779){_0x235d9c+=_0x239779['indexOf'](_0x10c677)+0x1+'.\x20'+_0x10c677+'\x0a';}else _0x235d9c+=_0x364984(0xa4);_0x235d9c+=_0x364984(0xbf);const _0x2ca33b=await a3_0x25cb95[_0x364984(0x90)](_0x235d9c);if(_0x2ca33b==0x1)await this[_0x364984(0x9f)]();else _0x2ca33b==0x2?await this[_0x364984(0xb0)]():(console[_0x364984(0x6d)]('Invalid\x20Input'),await this[_0x364984(0xa9)]());}catch(_0x4ff55f){throw _0x4ff55f;}}async['useSession'](_0x47855f,_0x18e14f){const _0x47924a=a3_0x3306cf;try{this[_0x47924a(0xb8)]=_0x18e14f;const _0x281466={'connectionRetries':0x5};this[_0x47924a(0xb8)]&&(_0x281466[_0x47924a(0x82)]=new HttpsProxyAgent(this[_0x47924a(0xb8)])),this[_0x47924a(0x8b)]=new StoreSession(_0x47855f),this[_0x47924a(0x9b)]=new TelegramClient(this[_0x47924a(0x8b)],Config['TELEGRAM_APP_ID'],Config['TELEGRAM_APP_HASH'],_0x281466),this[_0x47924a(0x8b)][_0x47924a(0xb5)](),await this[_0x47924a(0x9b)]['start']({'phoneNumber':async()=>await a3_0x25cb95[_0x47924a(0x90)](_0x47924a(0xaf)),'password':async()=>await a3_0x25cb95['text'](_0x47924a(0x7b)),'phoneCode':async()=>await a3_0x25cb95[_0x47924a(0x90)](_0x47924a(0x9d)),'onError':_0x25a1af=>{const _0x1fc772=_0x47924a;console['log'](_0x25a1af[_0x1fc772(0xa2)]);}}),console[_0x47924a(0x6d)]();}catch(_0xb28071){throw _0xb28071;}}async[a3_0x3306cf(0x74)](){const _0x43e517=a3_0x3306cf;try{a3_0x5b7a2f['info'](_0x43e517(0x94)+this[_0x43e517(0xa0)]+'\x20-\x20Resolving\x20Peer');while(this[_0x43e517(0xb6)]==undefined){try{this[_0x43e517(0xb6)]=await this[_0x43e517(0x9b)][_0x43e517(0x80)](this[_0x43e517(0x6c)]);break;}catch(_0x280edd){if(_0x280edd instanceof FloodWaitError){const _0x3f3a3c=_0x280edd[_0x43e517(0x97)];a3_0x5b7a2f[_0x43e517(0x6e)](this[_0x43e517(0x9b)][_0x43e517(0xa0)][_0x43e517(0xa1)]+'\x20|\x20FloodWait\x20'+_0x280edd),a3_0x5b7a2f[_0x43e517(0xb9)](this['client']['session']['serverAddress']+_0x43e517(0xa3)+_0x3f3a3c+'s'),await Helper[_0x43e517(0x98)]((_0x3f3a3c+0x3)*0x3e8);}else throw _0x280edd;}}}catch(_0x19caf1){throw _0x19caf1;}}async[a3_0x3306cf(0x9e)](){const _0x3c85b4=a3_0x3306cf;await this['client'][_0x3c85b4(0x9e)](),await this['client']['destroy'](),this[_0x3c85b4(0xb6)]=undefined,this[_0x3c85b4(0x96)]=undefined;}async[a3_0x3306cf(0xa5)](){const _0x1d4f8c=a3_0x3306cf;try{const _0x4be12c=await this[_0x1d4f8c(0x9b)][_0x1d4f8c(0x8c)](new Api['messages']['RequestWebView']({'peer':this['peer'],'bot':this[_0x1d4f8c(0xb6)],'fromBotMenu':!![],'url':this['url'],'platform':_0x1d4f8c(0xaa)}));a3_0x5b7a2f[_0x1d4f8c(0xb9)](_0x1d4f8c(0x94)+this[_0x1d4f8c(0xa0)]+_0x1d4f8c(0x83));const _0x6f39f5=_0x4be12c['url'];return Helper[_0x1d4f8c(0xa6)](_0x6f39f5,0x3);}catch(_0x49d864){throw _0x49d864;}}}